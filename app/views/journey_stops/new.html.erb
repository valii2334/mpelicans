<div class="mb-3">
  <h1 class="h3 d-inline align-middle">Make a Stop</h1>
  <%= link_to 'View Journey', journey_path(@journey_stop.journey), class: 'btn btn-primary float-end mt-n1' %>
</div>

<div class="row" data-controller="documents">
	<div class="col-12">
		<div class="card">
			<div class="card-body">
        <%= form_for [@journey_stop.journey, @journey_stop] do |f| %>
          <%= f.hidden_field :journey_id, value: params[:journey_id] %>
          <%= f.hidden_field :lat %>
          <%= f.hidden_field :long %>

					<div class="mb-3" style="color: red;">
						<% @journey_stop.errors.full_messages.each do |message| %>
							<li><%= message %></li>
						<% end %>
					</div>

          <div class="mb-3">
            <%= f.label :title, class: 'form-label' %>
            <%= f.text_field :title, required: true, class: 'form-control' %>
          </div>

          <div class="mb-3">
            <%= f.label :description, class: 'form-label' %>
            <%= f.text_field :description, required: true, class: 'form-control' %>
          </div>

          <%= render partial: 'shared/location', locals: { message: 'What is your current stops location?' } %>

          <div class="mb-3">
						<label class="form-label">
							Add pictures from the stop you made
              <br>
              <strong>
                Maximum <%= JourneyStop::MAXIMUM_NUMBER_OF_IMAGES %> images.
              </strong>
						</label>
						<br>
            <%= f.file_field :images, multiple: true, required: true, accept: ImageUploader::ACCEPTED_CONTENT_TYPES.join(',') %>
          </div>

          <div class="actions">
            <%= f.submit "Create", disabled: true, class: 'btn btn-primary', id: "form_submit_button" %>
          </div>
        <% end %>
			</div>
		</div>
	</div>
</div>
